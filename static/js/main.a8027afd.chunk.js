(this["webpackJsonpfsm-tools"]=this["webpackJsonpfsm-tools"]||[]).push([[0],{119:function(e,t){},120:function(e,t){},180:function(e,t){},328:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(0),s=n.n(a),c=n(49),r=n.n(c),l=(n(172),n(338)),o=n(339),u=n(29),h=n(7),j=n(20),b=n(334),d=n(335),f=n(336),p=n(337),O=n(340),x=n(37),m=n(166),v=n(160),y=n(84),w=n.n(y),g=n(38),S=n(21),E=n(79),I=n(162),T=n(83),z=n(80),A=n(109),k={STATES:/:states:\s*((\w+\s*)+)/,INITIAL:/:initial:\s*(\w+)\s*/,ACCEPTING:/:accept:\s*((\w+\s*)+)/,ALPHABET:/:alphabet:\s*((\w\s*)+)/,TRANSITIONS:/:transitions:\n((\w+\s*,\s*\w+\s*>\s*\w+\n?)*)/},N=function(e){Object(T.a)(n,e);var t=Object(z.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this,Object(x.a)(Object(x.a)({},e),{},{multigraph:!0}))).initial=void 0,i.alphabet=new Set,i.accepted=new Set,i.setGraph({rankdir:"LR"}),i}return Object(I.a)(n,[{key:"isAccepted",value:function(e){var t=this.testInput(e);return void 0!==t&&this.accepted.has(t)}},{key:"setInitial",value:function(e){return this.initial=e,this}},{key:"setAccepted",value:function(e,t){return this.accepted.add(e),this.setNode(e,t)}},{key:"setSymbol",value:function(e,t){return this.alphabet.add(e),this}},{key:"setTransition",value:function(e,t,n){var i=this.edge(e,t);return i?i.symbols.includes(n)?this:this.setEdge(e,t,{label:"".concat(i.label,",").concat(n),symbols:[].concat(Object(S.a)(i.symbols),[n])}):this.setEdge(e,t,{label:n,symbols:[n]})}},{key:"transitions",value:function(){return this.edges()}},{key:"transition",value:function(e){return this.edge(e)}},{key:"description",value:function(){var e=this;if(0===this.nodes().length)return"";var t="";return t+=":states:\n".concat(this.nodes().join("\n"),"\n"),t+=":initial:\n".concat(this.initial,"\n"),this.accepted.size>0&&(t+=":accept:\n".concat(Object(S.a)(this.accepted).join("\n"),"\n")),this.alphabet.size>0&&(t+=":alphabet:\n".concat(Object(S.a)(this.alphabet).join("\n"),"\n")),this.transitions().length>0&&(t+=":transitions:\n".concat(this.transitions().map((function(t){return{v:t.v,w:t.w,symbols:e.edge(t).symbols}})).flatMap((function(e){return e.symbols.map((function(t){return"".concat(e.v,", ").concat(t," > ").concat(e.w)}))})).join("\n"),"\n")),t}},{key:"minimize",value:function(){for(var e=this,t=this.reachable(),i=this.setIntersect(this.accepted,t),a=this.setIntersect(this.setDiff(new Set(this.nodes()),i),t),s=[i,a],c=[i,a];c.length>0;){var r,l=c.pop(),o=Object(g.a)(this.alphabet);try{var u=function(){var t,n=r.value,i=new Set,a=Object(g.a)(e.transitions());try{for(a.s();!(t=a.n()).done;){var o=t.value;if(e.edge(o).symbols.includes(n)){var u,h=Object(g.a)(l);try{for(h.s();!(u=h.n()).done;){var j=u.value;o.w===j&&i.add(o.v)}}catch(b){h.e(b)}finally{h.f()}}}}catch(b){a.e(b)}finally{a.f()}s=s.flatMap((function(t){var n=e.setDiff(t,i),a=e.setIntersect(i,t);return n.size>0&&a.size>0?(c.includes(t)?(c.splice(c.indexOf(t),1),c.push(a,n)):c.push(a.size<=n.size?a:n),[a,n]):t}))};for(o.s();!(r=o.n()).done;)u()}catch(d){o.e(d)}finally{o.f()}}var h=s.filter((function(e){return e.size>0})),j=new Map,b=new n({multigraph:!0});return h.forEach((function(e){var t=Object(S.a)(e).join("");e.forEach((function(e){return j.set(e,t)}))})),h.forEach((function(t){var n=Object(S.a)(t)[0];b.setNode(j.get(n)),e.accepted.has(n)&&b.setAccepted(j.get(n),{peripheries:2}),e.outEdges(n).forEach((function(t){e.edge(t).symbols.forEach((function(e){b.setTransition(j.get(n),j.get(t.w),e)}))}))})),b.setInitial(j.get(this.initial)),Object(S.a)(this.alphabet).forEach((function(e){return b.setSymbol(e,{})})),b}},{key:"testInput",value:function(e){var t,n=this.initial,i=Object(g.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!this.alphabet.has(a))return;var s=this.outEdges(n),c=!1;if(s){var r,l=Object(g.a)(s);try{for(l.s();!(r=l.n()).done;){var o=r.value;if(this.edge(o).symbols.includes(a)){n=o.w,c=!0;break}}}catch(u){l.e(u)}finally{l.f()}}if(!c)return n}}catch(u){i.e(u)}finally{i.f()}return n}},{key:"reachable",value:function(){for(var e=this.initial,t=[e],n=new Set([e]);t.length>0;){var i,a=t.pop(),s=Object(g.a)(this.transitions());try{for(s.s();!(i=s.n()).done;){var c=i.value;a===c.v&&(n.has(c.w)||(n.add(c.w),t.includes(c.w)||t.push(c.w)))}}catch(r){s.e(r)}finally{s.f()}}return n}},{key:"setDiff",value:function(e,t){return new Set(Object(S.a)(e).filter((function(e){return!t.has(e)})))}},{key:"setIntersect",value:function(e,t){return new Set(Object(S.a)(e).filter((function(e){return t.has(e)})))}}],[{key:"parse",value:function(e){return"string"===typeof e?this.build(C(e)):this.build(e)}},{key:"build",value:function(e){var t=new n,i=e.states,a=e.initial,s=e.accept,c=e.alphabet,r=e.transitions;if(!i)return t;if(!a)throw new Error("Cannot parse StateMachine with no initial state!");if(!i.includes(a))throw new Error("Initial state set to a state that does not exist!");if(s&&s.length>0&&s.some((function(e){return!i.includes(e)})))throw new Error("Accepted states includes a state that does not exist!");if(r&&r.length>0){if(!c||0===c.length)throw new Error("Cannot specify transitions with an empty alphabet!");if(r.some((function(e){return!c.includes(e[1])})))throw new Error("Transition includes a symbol which is not defined in the alphabet!");if(r.some((function(e){return!i.includes(e[0])||!i.includes(e[2])})))throw new Error("Transition includes a state which is not defined in states!")}return(c||[]).forEach((function(e){return t.setSymbol(e,{})})),i.forEach((function(e){return t.setNode(e)})),t.setInitial(a),(s||[]).forEach((function(e){return t.setAccepted(e,{peripheries:2})})),(r||[]).forEach((function(e){return t.setTransition(e[0],e[2],e[1])})),t}}]),n}(A.Graph),C=function(e){return{initial:P(e),states:M(e),accept:D(e),alphabet:L(e),transitions:B(e)}},M=function(e){var t=k.STATES.exec(e);return t&&t[1]?t[1].split(/\s+/).map((function(e){return e.trim()})).filter((function(e){return""!==e})):null},P=function(e){var t=k.INITIAL.exec(e);return t&&t[1]?t[1]:null},D=function(e){var t=k.ACCEPTING.exec(e);return t&&t[1]?t[1].split(/\s+/).map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]},L=function(e){var t=k.ALPHABET.exec(e);return t&&t[1]?t[1].split(/\s*/).map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]},B=function(e){var t=k.TRANSITIONS.exec(e);return t?Object(S.a)(t[1].matchAll(/(\w+)\s*,\s*(\w+)\s*>\s*(\w+)/g)).map((function(e){return[e[1],e[2],e[3]]})):[]},F=function(e){var t=e.minimize,n=e.description,s=e.input,c=Object(m.a)(e,["minimize","description","input"]),r=Object(a.useState)(""),l=Object(j.a)(r,2),o=l[0],u=l[1],h=Object(a.useState)(null),b=Object(j.a)(h,2),d=b[0],f=b[1];return Object(a.useEffect)((function(){try{var e=N.parse(n),i=t?e.minimize():e;if(null!==s){var a=i.testInput(s||"");if(a){var c=i.node(a);i.setNode(a,Object(x.a)(Object(x.a)({},c),{},{fillcolor:"#f54f4c",style:"filled"}))}}var r=t?w.a.write(e.minimize()):w.a.write(e);w.a.read(r),f(r),u("")}catch(l){u("".concat(l.name,": ").concat(l.message)),f(null)}return function(){f(null)}}),[n,t,s]),d?Object(i.jsx)(v.a,Object(x.a)({dot:d},c)):Object(i.jsx)("div",{children:o})};F.defaultProps={minimize:!1,input:null};var G=function(){var e=Object(a.useState)(":states:\na\nb\n:initial:\na\n:accept:\nb\na\n:alphabet:\n0\n1\n:transitions:\na, 0 > b\na, 1 > b\nb, 0 > b\nb, 1 > a"),t=Object(j.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(j.a)(c,2),l=r[0],o=r[1];return Object(a.useEffect)((function(){try{var e=N.parse(n).minimize();console.log(e),o(e.description())}catch(t){o({})}}),[n]),Object(i.jsxs)(b.a,{children:[Object(i.jsx)("h1",{children:"DFA Minimizer"}),Object(i.jsxs)(d.a,{children:[Object(i.jsx)(f.a,{children:Object(i.jsxs)(b.a,{children:[Object(i.jsxs)(d.a,{children:[Object(i.jsx)("h2",{children:"Input Description"}),Object(i.jsxs)(p.a,{style:{height:"375px"},children:[Object(i.jsx)(p.a.Prepend,{children:Object(i.jsx)(p.a.Text,{children:"Input"})}),Object(i.jsx)(O.a,{value:n,as:"textarea","aria-label":"input",onChange:function(e){return s(e.target.value)}})]})]}),Object(i.jsx)("br",{}),Object(i.jsxs)(d.a,{children:[Object(i.jsx)("h2",{children:"Input Machine"}),Object(i.jsx)(F,{description:n,options:{height:200}})]})]})}),Object(i.jsx)(f.a,{children:Object(i.jsxs)(b.a,{children:[Object(i.jsxs)(d.a,{children:[Object(i.jsx)("h2",{children:"Minimized Description"}),Object(i.jsxs)(p.a,{style:{height:"375px"},children:[Object(i.jsx)(p.a.Prepend,{children:Object(i.jsx)(p.a.Text,{children:"Input"})}),Object(i.jsx)(O.a,{disabled:!0,as:"textarea",value:l})]})]}),Object(i.jsx)("br",{}),Object(i.jsxs)(d.a,{children:[Object(i.jsx)("h2",{children:"Output Machine"}),Object(i.jsx)(F,{description:n,minimize:!0,options:{height:200}})]})]})})]})]})},R=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(j.a)(c,2),l=r[0],o=r[1],u=Object(a.useState)(!1),h=Object(j.a)(u,2),x=h[0],m=h[1];return Object(a.useEffect)((function(){try{var e=N.parse(n);console.log(e),m(e.isAccepted(l))}catch(t){m(!1)}}),[n,l]),Object(i.jsxs)(b.a,{children:[Object(i.jsx)("h1",{children:"DFA Simulator"}),Object(i.jsxs)(d.a,{children:[Object(i.jsxs)(f.a,{children:[Object(i.jsx)("h2",{children:"Input Description"}),Object(i.jsxs)(p.a,{style:{height:"375px"},children:[Object(i.jsx)(p.a.Prepend,{children:Object(i.jsx)(p.a.Text,{children:"Input"})}),Object(i.jsx)(O.a,{as:"textarea","aria-label":"input",onChange:function(e){return s(e.target.value)}})]})]}),Object(i.jsxs)(f.a,{children:[Object(i.jsx)("h2",{children:"Simulate Input"}),Object(i.jsxs)(p.a,{children:[Object(i.jsx)(p.a.Prepend,{children:Object(i.jsx)(p.a.Text,{children:"Input"})}),Object(i.jsx)(O.a,{"aria-label":"input",onChange:function(e){return o(e.target.value)}})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("h4",{children:["Input is ",x?"ACCEPTED":"NOT ACCEPTED","."]}),Object(i.jsx)(F,{description:n,input:l,options:{height:200}})]})]})]})},H=function(){return Object(i.jsxs)(b.a,{children:[Object(i.jsx)("h1",{children:"FSM Tools"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Simulator"}),Object(i.jsxs)("p",{children:["Simulate a deterministic finite state machine by visiting the ",Object(i.jsx)(u.b,{to:"/simulator",children:"simulator"}),"."]}),Object(i.jsx)("br",{}),Object(i.jsx)("h2",{children:"Minimizer"}),Object(i.jsxs)("p",{children:["Minimize a deterministic finite state machine by visiting the ",Object(i.jsx)(u.b,{to:"/minimizer",children:"minimizer"}),"."]})]})]})};var J=function(){return Object(i.jsxs)(u.a,{basename:"/fsm-tools",children:[Object(i.jsx)("header",{children:Object(i.jsxs)(l.a,{className:"mx-auto",style:{maxWidth:"1150px"},collapseOnSelect:!0,expand:"lg",variant:"light",children:[Object(i.jsx)(l.a.Brand,{as:u.b,to:"/",children:"FSM Tools"}),Object(i.jsx)(l.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(i.jsx)(l.a.Collapse,{id:"responsive-navbar-nav",children:Object(i.jsxs)(o.a,{className:"mr-auto",children:[Object(i.jsx)(o.a.Link,{className:"text-secondary",as:u.c,to:"/simulator",children:"Simulator"}),Object(i.jsx)(o.a.Link,{className:"text-secondary",as:u.c,to:"/minimizer",children:"Minimizer"})]})})]})}),Object(i.jsx)("main",{children:Object(i.jsxs)(h.c,{children:[Object(i.jsx)(h.a,{path:"/",exact:!0,children:Object(i.jsx)(H,{})}),Object(i.jsx)(h.a,{path:"/simulator",children:Object(i.jsx)(R,{})}),Object(i.jsx)(h.a,{path:"/minimizer",children:Object(i.jsx)(G,{})})]})})]})};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(J,{})}),document.getElementById("root"))}},[[328,1,2]]]);
//# sourceMappingURL=main.a8027afd.chunk.js.map