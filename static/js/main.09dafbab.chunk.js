(this["webpackJsonpfsm-tools"]=this["webpackJsonpfsm-tools"]||[]).push([[0],{119:function(e,t){},120:function(e,t){},180:function(e,t){},328:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n(0),c=n.n(s),a=n(49),r=n.n(a),j=(n(172),n(338)),l=n(339),h=n(29),b=n(7),o=n(15),d=n(334),u=n(335),O=n(336),x=n(337),f=n(340),p=n(37),m=n(166),v=n(160),y=n(84),g=n.n(y),w=n(38),S=n(21),T=n(79),I=n(162),E=n(83),A=n(80),z=n(109),k={STATES:/:states:\s*((\w+\s*)+)/,INITIAL:/:initial:\s*(\w+)\s*/,ACCEPTING:/:accept:\s*((\w+\s*)+)/,ALPHABET:/:alphabet:\s*((\w\s*)+)/,TRANSITIONS:/:transitions:\n((\w+\s*,\s*\w+\s*>\s*\w+\n?)*)/},N=function(e){Object(E.a)(n,e);var t=Object(A.a)(n);function n(e){var i;return Object(T.a)(this,n),(i=t.call(this,Object(p.a)(Object(p.a)({},e),{},{multigraph:!0}))).initial=void 0,i.alphabet=new Set,i.accepted=new Set,i.setGraph({rankdir:"LR"}),i}return Object(I.a)(n,[{key:"isAccepted",value:function(e){var t=this.testInput(e);return void 0!==t&&this.accepted.has(t)}},{key:"setInitial",value:function(e){return this.initial=e,this}},{key:"setAccepted",value:function(e,t){return this.accepted.add(e),this.setNode(e,t)}},{key:"setSymbol",value:function(e,t){return this.alphabet.add(e),this}},{key:"setTransition",value:function(e,t,n){var i=this.edge(e,t);return i?i.symbols.includes(n)?this:this.setEdge(e,t,{label:"".concat(i.label,",").concat(n),symbols:[].concat(Object(S.a)(i.symbols),[n])}):this.setEdge(e,t,{label:n,symbols:[n]})}},{key:"transitions",value:function(){return this.edges()}},{key:"transition",value:function(e){return this.edge(e)}},{key:"hash",value:function(){return btoa(this.minimize().description())}},{key:"description",value:function(){var e=this;if(0===this.nodes().length)return"";var t="";return t+=":states:\n".concat(this.nodes().join("\n"),"\n"),t+=":initial:\n".concat(this.initial,"\n"),this.accepted.size>0&&(t+=":accept:\n".concat(Object(S.a)(this.accepted).join("\n"),"\n")),this.alphabet.size>0&&(t+=":alphabet:\n".concat(Object(S.a)(this.alphabet).join("\n"),"\n")),this.transitions().length>0&&(t+=":transitions:\n".concat(this.transitions().map((function(t){return{v:t.v,w:t.w,symbols:e.edge(t).symbols}})).flatMap((function(e){return e.symbols.map((function(t){return"".concat(e.v,", ").concat(t," > ").concat(e.w)}))})).join("\n"),"\n")),t}},{key:"minimize",value:function(){for(var e=this,t=this.reachable(),i=this.setIntersect(this.accepted,t),s=this.setIntersect(this.setDiff(new Set(this.nodes()),i),t),c=[i,s],a=[i,s];a.length>0;){var r,j=a.pop(),l=Object(w.a)(this.alphabet);try{var h=function(){var t,n=r.value,i=new Set,s=Object(w.a)(e.transitions());try{for(s.s();!(t=s.n()).done;){var l=t.value;if(e.edge(l).symbols.includes(n)){var h,b=Object(w.a)(j);try{for(b.s();!(h=b.n()).done;){var o=h.value;l.w===o&&i.add(l.v)}}catch(d){b.e(d)}finally{b.f()}}}}catch(d){s.e(d)}finally{s.f()}c=c.flatMap((function(t){var n=e.setDiff(t,i),s=e.setIntersect(i,t);return n.size>0&&s.size>0?(a.includes(t)?(a.splice(a.indexOf(t),1),a.push(s,n)):a.push(s.size<=n.size?s:n),[s,n]):t}))};for(l.s();!(r=l.n()).done;)h()}catch(u){l.e(u)}finally{l.f()}}var b=c.filter((function(e){return e.size>0})),o=new Map,d=new n({multigraph:!0});return b.forEach((function(e){var t=Object(S.a)(e).join("");e.forEach((function(e){return o.set(e,t)}))})),b.forEach((function(t){var n=Object(S.a)(t)[0];d.setNode(o.get(n)),e.accepted.has(n)&&d.setAccepted(o.get(n),{peripheries:2}),e.outEdges(n).forEach((function(t){e.edge(t).symbols.forEach((function(e){d.setTransition(o.get(n),o.get(t.w),e)}))}))})),d.setInitial(o.get(this.initial)),Object(S.a)(this.alphabet).forEach((function(e){return d.setSymbol(e,{})})),d}},{key:"testInput",value:function(e){var t,n=this.initial,i=Object(w.a)(e);try{for(i.s();!(t=i.n()).done;){var s=t.value;if(!this.alphabet.has(s))return;var c=this.outEdges(n),a=!1;if(c){var r,j=Object(w.a)(c);try{for(j.s();!(r=j.n()).done;){var l=r.value;if(this.edge(l).symbols.includes(s)){n=l.w,a=!0;break}}}catch(h){j.e(h)}finally{j.f()}}if(!a)return n}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"reachable",value:function(){for(var e=this.initial,t=[e],n=new Set([e]);t.length>0;){var i,s=t.pop(),c=Object(w.a)(this.transitions());try{for(c.s();!(i=c.n()).done;){var a=i.value;s===a.v&&(n.has(a.w)||(n.add(a.w),t.includes(a.w)||t.push(a.w)))}}catch(r){c.e(r)}finally{c.f()}}return n}},{key:"setDiff",value:function(e,t){return new Set(Object(S.a)(e).filter((function(e){return!t.has(e)})))}},{key:"setIntersect",value:function(e,t){return new Set(Object(S.a)(e).filter((function(e){return t.has(e)})))}}],[{key:"parse",value:function(e){return"string"===typeof e?this.build(M(e)):this.build(e)}},{key:"build",value:function(e){var t=new n,i=e.states,s=e.initial,c=e.accept,a=e.alphabet,r=e.transitions;if(!i)return t;if(!s)throw new Error("Cannot parse StateMachine with no initial state!");if(!i.includes(s))throw new Error("Initial state set to a state that does not exist!");if(c&&c.length>0&&c.some((function(e){return!i.includes(e)})))throw new Error("Accepted states includes a state that does not exist!");if(r&&r.length>0){if(!a||0===a.length)throw new Error("Cannot specify transitions with an empty alphabet!");if(r.some((function(e){return!a.includes(e[1])})))throw new Error("Transition includes a symbol which is not defined in the alphabet!");if(r.some((function(e){return!i.includes(e[0])||!i.includes(e[2])})))throw new Error("Transition includes a state which is not defined in states!")}return(a||[]).forEach((function(e){return t.setSymbol(e,{})})),i.forEach((function(e){return t.setNode(e)})),t.setInitial(s),(c||[]).forEach((function(e){return t.setAccepted(e,{peripheries:2})})),(r||[]).forEach((function(e){return t.setTransition(e[0],e[2],e[1])})),t}}]),n}(z.Graph),M=function(e){return{initial:P(e),states:C(e),accept:D(e),alphabet:L(e),transitions:H(e)}},C=function(e){var t=k.STATES.exec(e);return t&&t[1]?t[1].split(/\s+/).map((function(e){return e.trim()})).filter((function(e){return""!==e})):null},P=function(e){var t=k.INITIAL.exec(e);return t&&t[1]?t[1]:null},D=function(e){var t=k.ACCEPTING.exec(e);return t&&t[1]?t[1].split(/\s+/).map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]},L=function(e){var t=k.ALPHABET.exec(e);return t&&t[1]?t[1].split(/\s*/).map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]},H=function(e){var t=k.TRANSITIONS.exec(e);return t?Object(S.a)(t[1].matchAll(/(\w+)\s*,\s*(\w+)\s*>\s*(\w+)/g)).map((function(e){return[e[1],e[2],e[3]]})):[]},B=function(e){var t=e.minimize,n=e.description,c=e.input,a=Object(m.a)(e,["minimize","description","input"]),r=Object(s.useState)(""),j=Object(o.a)(r,2),l=j[0],h=j[1],b=Object(s.useState)(null),d=Object(o.a)(b,2),u=d[0],O=d[1];return Object(s.useEffect)((function(){try{var e=N.parse(n),i=t?e.minimize():e;if(null!==c){var s=i.testInput(c||"");if(s){var a=i.node(s);i.setNode(s,Object(p.a)(Object(p.a)({},a),{},{fillcolor:"#f54f4c",style:"filled"}))}}var r=t?g.a.write(e.minimize()):g.a.write(e);g.a.read(r),O(r),h("")}catch(j){h("".concat(j.name,": ").concat(j.message)),O(null)}return function(){O(null)}}),[n,t,c]),u?Object(i.jsx)(v.a,Object(p.a)({dot:u},a)):Object(i.jsx)("div",{children:l})};B.defaultProps={minimize:!1,input:null};var F=function(){var e=Object(s.useState)(":states:\na\nb\n:initial:\na\n:accept:\nb\na\n:alphabet:\n0\n1\n:transitions:\na, 0 > b\na, 1 > b\nb, 0 > b\nb, 1 > a"),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(o.a)(a,2),j=r[0],l=r[1],h=Object(s.useState)(""),b=Object(o.a)(h,2),p=b[0],m=b[1],v=Object(s.useState)(""),y=Object(o.a)(v,2),g=y[0],w=y[1];return Object(s.useEffect)((function(){try{var e=N.parse(n),t=e.minimize();l(t.description()),m(e.hash()),w(t.hash())}catch(i){l({})}}),[n]),Object(i.jsxs)(d.a,{children:[Object(i.jsx)("h1",{children:"DFA Minimizer"}),Object(i.jsxs)(u.a,{children:[Object(i.jsx)(O.a,{children:Object(i.jsxs)(d.a,{children:[Object(i.jsxs)(u.a,{children:[Object(i.jsx)("h2",{children:"Input Description"}),Object(i.jsxs)(x.a,{style:{height:"375px"},children:[Object(i.jsx)(x.a.Prepend,{children:Object(i.jsx)(x.a.Text,{children:"Input"})}),Object(i.jsx)(f.a,{value:n,as:"textarea","aria-label":"input",onChange:function(e){return c(e.target.value)}})]})]}),Object(i.jsx)("br",{}),Object(i.jsx)(u.a,{children:Object(i.jsxs)(x.a,{style:{height:"90px",width:"100%"},children:[Object(i.jsx)(x.a.Prepend,{children:Object(i.jsx)(x.a.Text,{children:"Hash"})}),Object(i.jsx)(f.a,{disabled:!0,as:"textarea","aria-label":"input",value:p})]})}),Object(i.jsx)("br",{}),Object(i.jsxs)(u.a,{children:[Object(i.jsx)("h2",{children:"Input Machine"}),Object(i.jsx)(B,{description:n,options:{height:200}})]})]})}),Object(i.jsx)(O.a,{children:Object(i.jsxs)(d.a,{children:[Object(i.jsxs)(u.a,{children:[Object(i.jsx)("h2",{children:"Minimized Description"}),Object(i.jsxs)(x.a,{style:{height:"375px"},children:[Object(i.jsx)(x.a.Prepend,{children:Object(i.jsx)(x.a.Text,{children:"Input"})}),Object(i.jsx)(f.a,{disabled:!0,as:"textarea",value:j})]})]}),Object(i.jsx)("br",{}),Object(i.jsx)(u.a,{children:Object(i.jsxs)(x.a,{style:{height:"90px"},children:[Object(i.jsx)(x.a.Prepend,{children:Object(i.jsx)(x.a.Text,{children:"Hash"})}),Object(i.jsx)(f.a,{disabled:!0,as:"textarea","aria-label":"input",value:g})]})}),Object(i.jsx)("br",{}),Object(i.jsxs)(u.a,{children:[Object(i.jsx)("h2",{children:"Output Machine"}),Object(i.jsx)(B,{description:n,minimize:!0,options:{height:200}})]})]})})]})]})},G=function(){var e=Object(s.useState)(R),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(o.a)(a,2),j=r[0],l=r[1],h=Object(s.useState)(!1),b=Object(o.a)(h,2),p=b[0],m=b[1],v=Object(s.useState)(""),y=Object(o.a)(v,2),g=y[0],w=y[1];return Object(s.useEffect)((function(){try{var e=N.parse(n);m(e.isAccepted(j)),w(e.hash())}catch(t){m(!1)}}),[n,j]),Object(i.jsxs)(d.a,{children:[Object(i.jsx)("h1",{children:"DFA Simulator"}),Object(i.jsxs)(u.a,{children:[Object(i.jsxs)(O.a,{children:[Object(i.jsx)("h2",{children:"Input Description"}),Object(i.jsxs)(x.a,{style:{height:"375px"},children:[Object(i.jsx)(x.a.Prepend,{children:Object(i.jsx)(x.a.Text,{children:"Input"})}),Object(i.jsx)(f.a,{as:"textarea","aria-label":"input",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(i.jsx)("br",{}),Object(i.jsxs)(x.a,{style:{height:"90px"},children:[Object(i.jsx)(x.a.Prepend,{children:Object(i.jsx)(x.a.Text,{children:"Hash"})}),Object(i.jsx)(f.a,{disabled:!0,as:"textarea","aria-label":"input",value:g})]})]}),Object(i.jsxs)(O.a,{children:[Object(i.jsx)("h2",{children:"Simulate Input"}),Object(i.jsxs)(x.a,{children:[Object(i.jsx)(x.a.Prepend,{children:Object(i.jsx)(x.a.Text,{children:"Input"})}),Object(i.jsx)(f.a,{"aria-label":"input",onChange:function(e){return l(e.target.value)}})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("h4",{children:["Input is ",p?"ACCEPTED":"NOT ACCEPTED","."]}),Object(i.jsx)(B,{description:n,input:j,options:{height:200}})]})]})]})},R=":states:\na\nb\nc\nd\n:initial:\na\n:accept:\nc\n:alphabet:\n0\n1\n:transitions:\na,0>b\na,1>a\nb,0>d\nb,1>c\nc,0>c\nc,1>b\nd,0>d\nd,1>c",J=function(){return Object(i.jsxs)(d.a,{children:[Object(i.jsx)("h1",{children:"FSM Tools"}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Simulator"}),Object(i.jsxs)("p",{children:["Simulate a deterministic finite state machine by visiting the ",Object(i.jsx)(h.b,{to:"/simulator",children:"simulator"}),"."]}),Object(i.jsx)("h2",{children:"Minimizer"}),Object(i.jsxs)("p",{children:["Minimize a deterministic finite state machine by visiting the ",Object(i.jsx)(h.b,{to:"/minimizer",children:"minimizer"}),"."]})]}),Object(i.jsx)("h2",{children:"Syntax"}),Object(i.jsx)("p",{children:"There is a specific syntax for defining machine descriptions."}),Object(i.jsx)("h4",{children:"Sections"}),Object(i.jsx)("p",{children:"Machine descriptions can contain five sections: states, initial, accept, alphabet, and transitions."}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"States"}),Object(i.jsx)("p",{children:"The states section is defined as the following:"}),Object(i.jsxs)("code",{children:[":states:",Object(i.jsx)("br",{}),"(alphanumeric string)",Object(i.jsx)("br",{}),"(alphanumeric string)",Object(i.jsx)("br",{}),"..."]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("p",{children:"As an example:"}),Object(i.jsxs)("code",{children:[":states:",Object(i.jsx)("br",{}),"a",Object(i.jsx)("br",{}),"b",Object(i.jsx)("br",{})]})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Initial"}),Object(i.jsx)("p",{children:"The initial section is defined as an alphanumeric string which is defined in the states section."}),Object(i.jsx)("p",{children:"In the case of the example above:"}),Object(i.jsxs)("code",{children:[":initial:",Object(i.jsx)("br",{}),"a"]})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Accept"}),Object(i.jsx)("p",{children:"The accept section is defined equivalent to the states section, and it must only contain a subset of strings found within the states section."}),Object(i.jsx)("p",{children:"In the case of the example above:"}),Object(i.jsxs)("code",{children:[":accept:",Object(i.jsx)("br",{}),"b"]})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Alphabet"}),Object(i.jsx)("p",{children:"The alphabet section is also defined as states, but is a different set of strings which defines the available transition symbols."}),Object(i.jsx)("p",{children:"As an example:"}),Object(i.jsxs)("code",{children:[":alphabet:",Object(i.jsx)("br",{}),"0",Object(i.jsx)("br",{}),"1"]})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Transitions"}),Object(i.jsx)("p",{children:"The transitions section is defined as a list of transitions of the form:"}),Object(i.jsxs)("code",{children:[":transitions:",Object(i.jsx)("br",{}),"state, symbol ",">"," state"]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("p",{children:"As an example:"}),Object(i.jsxs)("code",{children:[":transitions:",Object(i.jsx)("br",{}),"a, 0 ",">"," b",Object(i.jsx)("br",{}),"a, 1  ",">"," b",Object(i.jsx)("br",{}),"b, 0 ",">"," b",Object(i.jsx)("br",{}),"b, 1 ",">"," a"]})]})]})]})};var q=function(){return Object(i.jsxs)(h.a,{basename:"/fsm-tools",children:[Object(i.jsx)("header",{children:Object(i.jsxs)(j.a,{className:"mx-auto",style:{maxWidth:"1150px"},collapseOnSelect:!0,expand:"lg",variant:"light",children:[Object(i.jsx)(j.a.Brand,{as:h.b,to:"/",children:"FSM Tools"}),Object(i.jsx)(j.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(i.jsx)(j.a.Collapse,{id:"responsive-navbar-nav",children:Object(i.jsxs)(l.a,{className:"mr-auto",children:[Object(i.jsx)(l.a.Link,{className:"text-secondary",as:h.c,to:"/simulator",children:"Simulator"}),Object(i.jsx)(l.a.Link,{className:"text-secondary",as:h.c,to:"/minimizer",children:"Minimizer"})]})})]})}),Object(i.jsx)("main",{children:Object(i.jsxs)(b.c,{children:[Object(i.jsx)(b.a,{path:"/",exact:!0,children:Object(i.jsx)(J,{})}),Object(i.jsx)(b.a,{path:"/simulator",children:Object(i.jsx)(G,{})}),Object(i.jsx)(b.a,{path:"/minimizer",children:Object(i.jsx)(F,{})})]})})]})};r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(q,{})}),document.getElementById("root"))}},[[328,1,2]]]);
//# sourceMappingURL=main.09dafbab.chunk.js.map